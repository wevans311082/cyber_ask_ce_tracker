{% extends "tracker/base.html" %}
{% load i18n %}

{% block title %}{% translate "Change Password" %}{% endblock %}

{% block content %}
<div class="container py-5"> {# py-5 for padding, respecting the fixed header's space #}
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8 col-sm-10">
      <div class="auth-card"> {# Using your existing .auth-card style #}
        <h1>{% translate "Change Password" %}</h1>

        {% if form.errors %}
          <div class="alert alert-danger mt-3" role="alert">
            <p>{% translate "Please correct the error below." %}</p>
          </div>
        {% endif %}

        <p class="text-muted">{% translate "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</p>

        <form method="post" class="auth-form text-start mt-4"> {# auth-form for styling, text-start for labels #}
          {% csrf_token %}

          {% for field in form %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{ field.label_tag }}</label>
              {{ field }} {# Input field will be styled by .auth-form input in style.css #}
              {% if field.help_text %}
                <small class="form-text text-muted d-block mt-1">{{ field.help_text|safe }}</small>
              {% endif %}
              {% if field.errors %}
                <div class="invalid-feedback d-block mt-1">
                  {% for error in field.errors %}
                    <span>{{ error }}</span>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
          {% endfor %}

          <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary">{% translate "Change my password" %}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}